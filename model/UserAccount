
var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var ObjectId = Schema.ObjectId;

var User = require('./User')
var scopeSchema = require('./User').scopeSchema;
var consoleScopeSchema = require('./User').consoleScopeSchema;


var userAccountSchema = new Schema({

    active: {type: Boolean, require: true, default: false},
    verified: {type: Boolean, require: true, default: false},
    joined: Date,
    resource_id: { type: String, unique: true, sparse: true },
    user: {type: ObjectId,ref: 'User',required: true  },
    organization: {type: Number,ref: 'Organisation',required: true  },
    //company: { type: Number, required: true },
    //tenant: { type: Number, required: true },
    user_meta: {},
    app_meta: {},
    user_scopes: [scopeSchema],
    client_scopes: [consoleScopeSchema],
    group:{type: ObjectId,ref: 'UserGroup'},
    created_at: Date,
    updated_at: Date,
    multi_login: {type: Boolean, require: true, default: false},

});




var UserAccount = mongoose.model('UserAccount', userAccountSchema);
module.exports = UserAccount;

