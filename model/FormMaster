var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var ObjectId = Schema.ObjectId;


var dynamicFieldSchema = new Schema({

    field: { type: String, required: true},
    type: { type: String, enum: ['text','radio','date','number','boolean','selection'],required: true },
    description: String,
    title: { type: String, required: true},
    active: Boolean,
    require: Boolean,
    values: [{id:{ type: Number, required: true}, name:{ type: String, required: true}}]



});


var formMasterSchema = new Schema({

    name: { type: String,  required: true},
    company: { type: Number, required: true },
    tenant: { type: Number, required: true },
    fields: [dynamicFieldSchema]


});

formMasterSchema.index({ company: 1, tenant: 1,name: 1}, { unique: true });
var FormMaster = mongoose.model('FormMaster', formMasterSchema);
module.exports.FormMaster = FormMaster;

