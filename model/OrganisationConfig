/**
 * Created by a on 6/3/2016.
 */

// grab the things we need
var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var ObjectId = Schema.ObjectId;

var organisationConfigSchema = new Schema({
company: { type: Number, required: true },
tenant: { type: Number, required: true },
highPriority_match :{ type: Boolean, required: true },
all_match :{ type: Boolean, required: true },
created_at: Date,
updated_at: Date,
 _id : { tenant : 1, company: 1}
});

organisationConfigSchema.path('highPriority_match').set(function (v) {
  this.all_match = !v;
  return v;
});

var OrganisationConfig = mongoose.model('OrganisationConfig', organisationConfigSchema);
module.exports = OrganisationConfig;
