
var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var ObjectId = Schema.ObjectId;

var caseConfigurationSchema = new Schema({

    created_at: {type:Date,default: Date.now,require:true},
    updated_at: {type:Date,default: Date.now,require:true},
    due_at: Date,
    active: Boolean,
    configurationName: { type: String, required: true, unique: true},
    description: { type: String, required: false, trim: true},
    submitter: {type: ObjectId,ref: 'User'},
    company: { type: Number, required: true },
    tenant: { type: Number, required: true },
    configurationRule: { type: String, required: true, trim: true},
    threshold : { type: Number, required: true}
});


caseConfigurationSchema.index({configurationName:"text"});

var CaseConfiguration = mongoose.model('CaseConfiguration', caseConfigurationSchema);
module.exports.CaseConfiguration = CaseConfiguration;



